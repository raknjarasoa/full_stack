dist: trusty
sudo: false
language: node_js
node_js:
- '12'
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
cache:
  directories:
  - "./node_modules"
  
before_install:
# execute all of the commands which need to be executed 
# before installing dependencies
- curl -o- -L https://yarnpkg.com/install.sh | bash
- export PATH="$HOME/.yarn/bin:$PATH"
- npm install --global lerna

install:
# install all of the dependencies you need here
- lerna bootstrap

before_script:
# execute all of the commands which need to be executed 
# before running actual tests
- cd packages/front-end

script:
# execute all of the commands which 
# should make the build pass or fail
- yarn build:prod

deploy:
  provider: heroku
  api_key:
    secure: Aj/1fyNJtnh+bqjGbtUBNrmqqOAznMPTiw7Pfc3TK6NWlaW1TBPMxM9QO6dD1OZy9GEeth523wEh/X7dSUmkoOywUpus+fnOFfwxznVS2vWsySCUSRDUfUtWf6ETjzNJALz1N/7qTC+B2a1adqMbeMLF1ixm+1RnWfnaYcs1Z4sKKHnEP+TIprn8r0vSIPHST1LRxOImoYtEhk3SDtZXv3Oz7ntdA1Rt8HBbV6V0vrcxn0S9xL+Iakz866Rw7OtfZPwbf1+NPjx3qPoI+YfvUPdL25+LMG250A0Dt9ushJaDjjhZTMWPlHAuVsoH53Qr0lrF3ql7vscrNIO7+ptzcd9eUceSXMsWuQGOCmJLvjgRyx6ZN/+eXrnsxalE13577qU3KPPDJ21oopHCxAHZCrLEPJtjvEsZCYTrPwhxcYDKH2HqQULcl2bet1mPmK6TVfokgUTfDQJ6aFLKn40jsIVlpBlVvBho8gExmPZk4Uu41u84yBgOutJgQfh5pRLB7a3T/QRxIQ9xdub111dk2GitraNLhZrIXv16My/I9Ax5WOKa0m4DjlIkoCLQEv4wZNG0fclMUGvVpoQ0CViU0uf4KQb1t1P1RPWAEkw6w7xh1YKKW0M93K8mHOV6c8kK1EP37l1vMgFOmOw6HqzFbxf7t7p5ZndweJGlx6wQwkI=
  app: full_stack
  on:
    repo: raknjarasoa/full_stack
    branch: develop
